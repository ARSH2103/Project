{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import axios from'axios';import{Link}from'react-router-dom';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Dashboard=_ref=>{let{token}=_ref;// State to hold the updated information\nconst[updatedInfo,setUpdatedInfo]=useState({username:'',firstname:'',lastname:'',current_year:'',branch:'',password:''});// State to hold the fetched dashboard info\nconst[dashboardInfo,setDashboardInfo]=useState({username:'',firstname:'',lastname:'',current_year:'',branch:''});// Fetch user info when the component mounts\nuseEffect(()=>{axios.post('http://localhost:5000/dashboard',{token}).then(response=>{setDashboardInfo(response.data);setUpdatedInfo({username:response.data.username,firstname:response.data.firstname,lastname:response.data.lastname,current_year:response.data.current_year,branch:response.data.branch,password:''});}).catch(error=>{console.error('Error in fetching dashboard information',error);});},[token]);const handleInput=event=>{const{name,value}=event.target;setUpdatedInfo(prev=>({...prev,[name]:value}));};const handleUpdate=async event=>{event.preventDefault();try{const response=await axios.put('http://localhost:5000/dashboard',{token,updatedInfo});console.log(\"Dashboard updated\",response);setDashboardInfo(prev=>({...prev,...updatedInfo}));}catch(error){console.error('Error updating dashboard information',error);}};return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"div\",{className:\"d-flex justify-content-center align-items-center bg-primary vh-100\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-3 rounded w-25\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Update Profile\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleUpdate,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"username\",children:/*#__PURE__*/_jsx(\"strong\",{children:\"Username\"})}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"username\",value:updatedInfo.username,onChange:handleInput,className:\"form-control rounded-0\",placeholder:\"Enter Username\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"firstname\",children:/*#__PURE__*/_jsx(\"strong\",{children:\"First Name\"})}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"firstname\",value:updatedInfo.firstname,onChange:handleInput,className:\"form-control rounded-0\",placeholder:\"Enter First Name\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"lastname\",children:/*#__PURE__*/_jsx(\"strong\",{children:\"Last Name\"})}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"lastname\",value:updatedInfo.lastname,onChange:handleInput,className:\"form-control rounded-0\",placeholder:\"Enter Last Name\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"current_year\",children:/*#__PURE__*/_jsx(\"strong\",{children:\"Current Year\"})}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",name:\"current_year\",value:updatedInfo.current_year,onChange:handleInput,className:\"form-control rounded-0\",placeholder:\"Enter Your Current Year\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"branch\",children:/*#__PURE__*/_jsx(\"strong\",{children:\"Branch\"})}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"branch\",value:updatedInfo.branch,onChange:handleInput,className:\"form-control rounded-0\",placeholder:\"Enter Your Branch\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",children:/*#__PURE__*/_jsx(\"strong\",{children:\"Password\"})}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"password\",value:updatedInfo.password,onChange:handleInput,className:\"form-control rounded-0\",placeholder:\"Enter Password\"})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-success w-100 rounded-0 \",children:/*#__PURE__*/_jsx(\"strong\",{children:\"Update\"})}),/*#__PURE__*/_jsx(\"button\",{type:\"Add Notes\",className:\"btn btn-success w-100 rounded-0 margin-top:15px position:relative\",children:/*#__PURE__*/_jsx(\"strong\",{children:\"Add Notes\"})})]})]})})});};export default Dashboard;","map":{"version":3,"names":["React","useState","useEffect","axios","Link","jsx","_jsx","jsxs","_jsxs","Dashboard","_ref","token","updatedInfo","setUpdatedInfo","username","firstname","lastname","current_year","branch","password","dashboardInfo","setDashboardInfo","post","then","response","data","catch","error","console","handleInput","event","name","value","target","prev","handleUpdate","preventDefault","put","log","children","className","onSubmit","htmlFor","type","onChange","placeholder"],"sources":["C:/Users/Hp/firstapp/src/Dashboard.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport axios from 'axios';\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst Dashboard = ({ token }) => {\r\n    // State to hold the updated information\r\n    const [updatedInfo, setUpdatedInfo] = useState({\r\n        username: '',\r\n        firstname: '',\r\n        lastname: '',\r\n        current_year: '',\r\n        branch: '',\r\n        password: ''\r\n    });\r\n\r\n    // State to hold the fetched dashboard info\r\n    const [dashboardInfo, setDashboardInfo] = useState({\r\n        username: '',\r\n        firstname: '',\r\n        lastname: '',\r\n        current_year: '',\r\n        branch: ''\r\n    });\r\n\r\n    // Fetch user info when the component mounts\r\n    useEffect(() => {\r\n        axios.post('http://localhost:5000/dashboard', { token })\r\n            .then(response => {\r\n                setDashboardInfo(response.data); \r\n                setUpdatedInfo({\r\n                    username: response.data.username,\r\n                    firstname: response.data.firstname,\r\n                    lastname: response.data.lastname,\r\n                    current_year: response.data.current_year,\r\n                    branch: response.data.branch,\r\n                    password: ''\r\n                });\r\n            })\r\n            .catch(error => {\r\n                console.error('Error in fetching dashboard information', error);\r\n            });\r\n    }, [token]);\r\n\r\n    const handleInput = (event) => {\r\n        const { name, value } = event.target;\r\n        setUpdatedInfo(prev => ({ ...prev, [name]: value }));\r\n    };\r\n\r\n    const handleUpdate = async (event) => {\r\n        event.preventDefault();\r\n        try {\r\n            const response = await axios.put('http://localhost:5000/dashboard', { token, updatedInfo });\r\n            console.log(\"Dashboard updated\", response);\r\n            setDashboardInfo(prev => ({ ...prev, ...updatedInfo }));\r\n        } catch (error) {\r\n            console.error('Error updating dashboard information', error);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div>\r\n            <div className='d-flex justify-content-center align-items-center bg-primary vh-100'>\r\n                <div className='bg-white p-3 rounded w-25'>\r\n                    <h2>Update Profile</h2>\r\n                    <form onSubmit={handleUpdate}>\r\n                        <div className='mb-3'>\r\n                            <label htmlFor=\"username\"><strong>Username</strong></label>\r\n                            <input\r\n                                type=\"text\"\r\n                                name=\"username\"\r\n                                value={updatedInfo.username}\r\n                                onChange={handleInput}\r\n                                className='form-control rounded-0'\r\n                                placeholder='Enter Username'\r\n                            />\r\n                        </div>\r\n                        <div className='mb-3'>\r\n                            <label htmlFor=\"firstname\"><strong>First Name</strong></label>\r\n                            <input\r\n                                type=\"text\"\r\n                                name=\"firstname\"\r\n                                value={updatedInfo.firstname}\r\n                                onChange={handleInput}\r\n                                className='form-control rounded-0'\r\n                                placeholder='Enter First Name'\r\n                            />\r\n                        </div>\r\n                        <div className='mb-3'>\r\n                            <label htmlFor=\"lastname\"><strong>Last Name</strong></label>\r\n                            <input\r\n                                type=\"text\"\r\n                                name=\"lastname\"\r\n                                value={updatedInfo.lastname}\r\n                                onChange={handleInput}\r\n                                className='form-control rounded-0'\r\n                                placeholder='Enter Last Name'\r\n                            />\r\n                        </div>\r\n                        <div className='mb-3'>\r\n                            <label htmlFor=\"current_year\"><strong>Current Year</strong></label>\r\n                            <input\r\n                                type=\"number\"\r\n                                name=\"current_year\"\r\n                                value={updatedInfo.current_year}\r\n                                onChange={handleInput}\r\n                                className='form-control rounded-0'\r\n                                placeholder='Enter Your Current Year'\r\n                            />\r\n                        </div>\r\n                        <div className='mb-3'>\r\n                            <label htmlFor=\"branch\"><strong>Branch</strong></label>\r\n                            <input\r\n                                type=\"text\"\r\n                                name=\"branch\"\r\n                                value={updatedInfo.branch}\r\n                                onChange={handleInput}\r\n                                className='form-control rounded-0'\r\n                                placeholder='Enter Your Branch'\r\n                            />\r\n                        </div>\r\n                        <div className='mb-3'>\r\n                            <label htmlFor=\"password\"><strong>Password</strong></label>\r\n                            <input\r\n                                type=\"password\"\r\n                                name=\"password\"\r\n                                value={updatedInfo.password}\r\n                                onChange={handleInput}\r\n                                className='form-control rounded-0'\r\n                                placeholder='Enter Password'\r\n                            />\r\n                        </div>\r\n                        <button type=\"submit\" className='btn btn-success w-100 rounded-0 '>\r\n                            <strong>Update</strong>\r\n                        </button>\r\n                        \r\n                        <button type=\"Add Notes\" className='btn btn-success w-100 rounded-0 margin-top:15px position:relative'>\r\n                            <strong>Add Notes</strong>\r\n                        </button>\r\n                    </form>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Dashboard;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}